import{b as A,m as u,c as d,p as T,h as n,a as k,E as R,H as g,n as q,s as N,o as E,d as b,q as v,v as x,g as F,w as H,S as L}from"./runtime.CVyLOi3v.js";function Y(a,f,e,c=null,i=!1){n&&k();var s=a,r=null,t=null,l=null,_=i?R:0;A(()=>{if(l===(l=!!f()))return;let h=!1;if(n){const y=s.data===g;l===y&&(s=q(),N(s),E(!1),h=!0)}l?(r?u(r):r=d(()=>e(s)),t&&T(t,()=>{t=null})):(t?u(t):c&&(t=d(()=>c(s))),r&&T(r,()=>{r=null})),h&&E(!0)},_),n&&(s=b)}function S(a,f){return a===f||(a==null?void 0:a[L])===f}function o(a={},f,e,c){return v(()=>{var i,s;return x(()=>{i=s,s=[],F(()=>{a!==e(...s)&&(f(a,...s),i&&S(e(...i),a)&&f(null,...i))})}),()=>{H(()=>{s&&S(e(...s),a)&&f(null,...s)})}}),a}export{o as b,Y as i};
